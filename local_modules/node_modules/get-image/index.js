/*global require, console, module, plugin, fs.writeFileSync*/

const fs = require('fs');
const request = require('sync-request');

function plugin(imageURL, targetDir) {
    'use strict';
    // get image name
    let relImageSource = imageURL.split("/");
    let imageName = relImageSource[relImageSource.length - 1];
    // download the image object
    let data = request('GET', imageURL);
    // write file to destination dir
    fs.writeFileSync("./dev/sources" + targetDir + imageName, data.body);

    return imageName;
}

module.exports = plugin;