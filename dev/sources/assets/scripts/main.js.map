{"version":3,"sources":["main.js"],"names":["fadeOut","el","style","opacity","fade","display","requestAnimationFrame","fadeIn","val","parseFloat","initialScreenState","init","img","Image","onload","document","body","classList","remove","src","lineNumbers","codeContainers","getElementsByClassName","codeArray","i","length","thisCodeContainer","querySelector","prepend","outerHTML","split","join","softScroll","$","filterPath","string","replace","locationPath","location","pathname","each","thisPath","hash","hostname","$target","target","on","event","preventDefault","animate","scrollTop","offset","top","jQuery","hamburger","thisPage","thisMenuLayer","find","hasClass","removeClass","addClass","window","toTopIcon","toTop","is","addEventListener","$grid","isotope","itemSelector","filterValue","attr","console","log","filter"],"mappings":"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","file":"main.js","sourcesContent":["/*jslint regexp: true, nomen: true, vars: true, plusplus: true*/\n/*global document, body, window, requestAnimationFrame, Image*/\n\n\n(function () {\n\n    'use strict';\n\n    // fade out\n    function fadeOut(el) {\n        el.style.opacity = 1;\n\n        (function fade() {\n            if ((el.style.opacity -= 0.1) < 0) {\n                el.style.display = \"none\";\n            } else {\n                requestAnimationFrame(fade);\n            }\n        }());\n    }\n\n    // fade in\n    function fadeIn(el, display) {\n        el.style.opacity = 0;\n        el.style.display = display || \"block\";\n\n        (function fade() {\n            let val = parseFloat(el.style.opacity);\n            if (!((val += 0.1) > 1)) {\n                el.style.opacity = val;\n                requestAnimationFrame(fade);\n            }\n        }());\n    }\n\n    const initialScreenState = (function () {\n        let init = function () {\n            let img = new Image();\n            img.onload = function () {\n                document.body.classList.remove(\"isLoading\");\n            };\n            img.src = \"http://dev-orca.pantheonsite.io/sites/default/files/home-page/fullscreen_image.jpg\";\n        };\n\n        return {\n            init: init\n        };\n    }());\n\n    // function to add line numbers wrapper to syntax code lines\n    // numbers are added via CSS counter\n    const lineNumbers = (function () {\n        let init = function () {\n            const codeContainers = document.getElementsByClassName('line-numbers');\n            let codeArray, i;\n\n            for (let i = 0; codeContainers.length > i; i++) {\n                let thisCodeContainer = codeContainers[i];\n                //insert a new line after open <code> tag\n                thisCodeContainer.querySelector('code').prepend('\\n');\n\n                // add a line wrapper to each code line\n                codeArray = thisCodeContainer.outerHTML.split('\\n');\n                // start with the second array element and stop before the last so we don't wrap the <pre><code> tags\n                for (i = 0; i < codeArray.length; i++) {\n                    codeArray[i] = \"<span class='code-line'>\" + codeArray[i] + \"</span>\";\n                }\n                // replace code\n                thisCodeContainer.outerHTML = codeArray.join('\\n');\n            }\n        };\n\n        return {\n            init: init\n        }\n    }());\n\n    // function to scroll softly to on-page anchors\n    const softScroll = (function ($) {\n        'use strict';\n\n        // filter handling for a /dir/ OR /indexordefault.page\n        var filterPath = function (string) {\n            return string\n                .replace(/^\\//, '')\n                .replace(/(index|default).[a-zA-Z]{3,4}$/, '')\n                .replace(/\\/$/, '');\n        };\n\n        var init = function () {\n            // source: https://css-tricks.com/smooth-scrolling-accessibility/\n            // URL updates and the element focus is maintained\n            // originally found via in Update 3 on http://www.learningjquery.com/2007/10/improved-animated-scrolling-script-for-same-page-links\n            //\n            // the code from css-tricks has an obscure bug that causes urls of the form https://caniuse.com/#search=requestAnimationFrame\n            // to cause an jQuery error: Uncaught Error: Syntax error, unrecognized expression: #search=requestAnimationFrame\n            // the error is caused by this selector $('a[href*=\"#\"]') as this selector selects urls that have an \"#\" in any place\n            // Changing that to $('a[href^=\"#\"]') insures that only hashes that START with and \"#\" are selected.\n\n            const locationPath = filterPath(location.pathname);\n            $('a[href^=\"#\"]').each(function () {\n                const thisPath = filterPath(this.pathname) || locationPath;\n                const hash = this.hash;\n                if ($(\"#\" + hash.replace(/#/, '')).length) {\n                    if (locationPath === thisPath && (location.hostname === this.hostname || !this.hostname) && this.hash.replace(/#/, '')) {\n                        const $target = $(hash), target = this.hash;\n                        if (target) {\n                            $(this).on('click', function (event) {\n                                event.preventDefault();\n                                $('html, body').animate({\n                                    scrollTop: $target.offset().top\n                                }, 1000);\n                            });\n                        }\n                    }\n                }\n            });\n        };\n\n        return {\n            init: init\n        };\n    }(jQuery));\n\n    // function to attach a class to the body element when the hamburger is touched/clicked\n    const hamburger = (function ($) {\n        'use strict';\n\n        let init = function () {\n            const thisPage = $('body');\n            const hamburger = $('.hamburger');\n            const thisMenuLayer = $('.navigation').find('ul');\n\n            hamburger.on('click', function () {\n                if (thisPage.hasClass('navActive')) {\n                    thisPage.removeClass('navActive');\n                    thisMenuLayer.fadeOut();\n                } else {\n                    thisMenuLayer.fadeIn();\n                    thisPage.addClass('navActive');\n                }\n            });\n\n            // hide nav menu after selection and when scrolling\n            thisMenuLayer.find('>li').on('click', function () {\n                thisPage.removeClass('navActive');\n                thisMenuLayer.fadeOut();\n            });\n            $(window).on('scroll', function () {\n                thisPage.removeClass('navActive');\n                thisMenuLayer.fadeOut();\n            });\n        };\n\n        return {\n            init: init\n        };\n    }(jQuery));\n\n    // function to manage toTop icon visibility\n    const toTopIcon = (function ($) {\n        'use strict';\n\n        let init = function () {\n            const toTop = $('#toTopButton');\n\n            if ($(document).scrollTop() >= 500) {\n                toTop.fadeIn();\n            } else {\n                toTop.fadeOut();\n            }\n\n            $(window).on('scroll', function () {\n                if ($(document).scrollTop() >= 500) {\n                    if (toTop.is(':hidden')) {\n                        toTop.fadeIn();\n                    }\n                } else {\n                    if (!toTop.is(':hidden')) {\n                        toTop.fadeOut();\n                    }\n                }\n            });\n        };\n\n        return {\n            init: init\n        };\n    }(jQuery));\n\n    //the document ready function\n    document.addEventListener(\"DOMContentLoaded\", function (event) {\n        initialScreenState.init();\n        lineNumbers.init();\n        hamburger.init();\n        softScroll.init();\n        toTopIcon.init();\n\n        // init Isotope\n        var $grid = $('.grid').isotope({\n            itemSelector: '.element-item'\n        });\n\n        // bind filter button click\n        $('#filters').on( 'click', 'a', function() {\n            var filterValue = $( this ).attr('data-filter');\n\n            console.log(filterValue);\n            // use filterFn if matches value\n            $grid.isotope({ filter: filterValue });\n        });\n    });\n    // end ready function\n}());"]}